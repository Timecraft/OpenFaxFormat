/*


    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.

*/

public class OFF.Structures.NetworkMessenger : OFF.Structures.Messenger {
    // An implementation of OFF.Structures.Messenger that uses a Network device as the destination
    private string _network_address;
    public NetworkMessenger (File source_file, bool compress = false, string network_address) {
        Structures.PDFSource pdf = new Structures.PDFSource (source_file.get_uri ());
        
        pdf.get_size (out width, out height);
        
        this._width_message = new Structures.SizeMessage (width);                  // Protocol specifies width first
        this._height_message = new Structures.SizeMessage (height);
        
        this._network_address = network_address;
        
        message ("Width message: " + _width_message.generate_message ());
        message ("Height message: " + _height_message.generate_message ());
    }
    
    public override void send_message (Structures.Message message) {
        
    }
}
